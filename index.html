<!DOCTYPE html>
<html>

<head>
    <style type="text/css">
    </style>
</head>

<body>
		<div>
		Search Location: <input type="text" id="query" />
		</div>
		<div>
			<iframe src="" height="500px" width="500px" id="map"></iframe>
		</div>
		
		<script>
			let query = document.getElementById('query');
			query.addEventListener("keypress", function(event) {
			  if (event.key === "Enter") {
			    event.preventDefault();
			    const map = document.getElementById('map');
			    var endpoint = 'https://www.google.com/maps/embed/v1/place';
			    var key='AIzaSyCLqyP_E5mD8y0G4EIdtYNfEF-RnNbLDiY';
			    var parameters = [
			      {'key': 'key', 'value': key},
			      {'key':'q', 'value': query.value}
			    ]
			    map.src = constructLink(endpoint, parameters)
			    console.log(constructLink(endpoint, parameters))
			  }
			}); 

			const constructLink = (endpoint, parameters) => {
			  var link = endpoint + '?';
			  parameters.forEach(element => {
			    link += element.key + '=' + element.value + '&';
			  });
			  return link;
			}
		</script>

</body>

</html>
